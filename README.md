# üìö Online Library Backend API

![C#](https://img.shields.io/badge/c%23-%23239120.svg?style=for-the-badge&logo=c-sharp&logoColor=white)
![.NET 8](https://img.shields.io/badge/.NET-512BD4?style=for-the-badge&logo=dotnet&logoColor=white)
![PostgreSQL](https://img.shields.io/badge/PostgreSQL-316192?style=for-the-badge&logo=postgresql&logoColor=white)
![Docker](https://img.shields.io/badge/docker-%230db7ed.svg?style=for-the-badge&logo=docker&logoColor=white)

–ù–∞–≤—á–∞–ª—å–Ω–∏–π –ø—Ä–æ—î–∫—Ç RESTful API –¥–ª—è –∫–µ—Ä—É–≤–∞–Ω–Ω—è –æ–Ω–ª–∞–π–Ω-–±—ñ–±–ª—ñ–æ—Ç–µ–∫–æ—é, —Ä–æ–∑—Ä–æ–±–ª–µ–Ω–∏–π —É –º–µ–∂–∞—Ö –±–∞–∫–∞–ª–∞–≤—Ä—Å—å–∫–æ—ó —Ä–æ–±–æ—Ç–∏.

–ü—Ä–æ—î–∫—Ç —è–≤–ª—è—î —Å–æ–±–æ—é –±–µ–∫–µ–Ω–¥-—Å–∏—Å—Ç–µ–º—É –∑ —Ä–æ–∑–ø–æ–¥—ñ–ª–æ–º –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø—É, —Å–∏—Å—Ç–µ–º–æ—é –æ–±—Ä–∞–Ω–æ–≥–æ (3–ù–§) —Ç–∞ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª–æ–º –µ–∫—Å–ø–æ—Ä—Ç—É –¥–∞–Ω–∏—Ö.

---

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—á–Ω–∏–π —Å—Ç–µ–∫
* **Framework:** .NET 8 (ASP.NET Core)
* **Database:** PostgreSQL (—Ä–µ–ª—è—Ü—ñ–π–Ω–∞ –º–æ–¥–µ–ª—å, 3-—Ç—è –Ω–æ—Ä–º–∞–ª—å–Ω–∞ —Ñ–æ—Ä–º–∞)
* **ORM:** Entity Framework Core (Code First + Migrations)
* **Security:** JWT (JSON Web Token) + Role-Based Access Control (RBAC)
* **Design:** PlantUML (ERD & Class Diagrams)
* **Testing:** Postman (API Collections)

## üìã –°–∏—Å—Ç–µ–º–Ω—ñ –≤–∏–º–æ–≥–∏
–ü–µ—Ä–µ–¥ –ø–æ—á–∞—Ç–∫–æ–º —Ä–æ–±–æ—Ç–∏ –ø–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ —É –≤–∞—Å –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ:
* **.NET 8.0 SDK**
* **Docker Desktop** (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ –¥–ª—è —à–≤–∏–¥–∫–æ–≥–æ —Å—Ç–∞—Ä—Ç—É)
* **Entity Framework Tools** (–≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è: `dotnet tool install --global dotnet-ef`)
* **Postman** (–¥–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è –∑–∞–ø–∏—Ç—ñ–≤)
---

## ‚ú® –û—Å–Ω–æ–≤–Ω–∏–π —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª

### üîê –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è —Ç–∞ —Ä–æ–ª—ñ
* **–†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è —Ç–∞ –ª–æ–≥—ñ–Ω:** –ø–æ–≤–Ω–æ—Ü—ñ–Ω–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó –∑–∞ –ø–æ—à—Ç–æ—é —Ç–∞ –ø–∞—Ä–æ–ª–µ–º.
* **–ë–µ–∑–ø–µ–∫–∞:** –ø–∞—Ä–æ–ª—ñ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è —É –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–æ–º—É –≤–∏–≥–ª—è–¥—ñ (—Ö–µ—à—É–≤–∞–Ω–Ω—è BCrypt).
* **RBAC:** –ø—ñ–¥—Ç—Ä–∏–º–∫–∞ —Ä–æ–ª–µ–π `Admin` (–∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä) —Ç–∞ `Client` (–±–∞–∑–æ–≤–∏–π –¥–æ—Å—Ç—É–ø).

### üìñ –ö–µ—Ä—É–≤–∞–Ω–Ω—è –∫–Ω–∏–≥–∞–º–∏
* **–ü—É–±–ª—ñ—á–Ω–∏–π –¥–æ—Å—Ç—É–ø:** –ø–µ—Ä–µ–≥–ª—è–¥ –∫–∞—Ç–∞–ª–æ–≥—É —Ç–∞ –¥–µ—Ç–∞–ª—å–Ω–æ—ó —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó –ø—Ä–æ –∫–Ω–∏–≥–∏ (–Ω–µ –ø–æ—Ç—Ä–µ–±—É—î –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó).
* **–ê–¥–º—ñ–Ω—ñ—Å—Ç—Ä—É–≤–∞–Ω–Ω—è:** –¥–æ–¥–∞–≤–∞–Ω–Ω—è —Ç–∞ –≤–∏–¥–∞–ª–µ–Ω–Ω—è –∫–Ω–∏–≥ (–¥–æ—Å—Ç—É–ø–Ω–æ –ª–∏—à–µ –¥–ª—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ —ñ–∑ —Ä–æ–ª–ª—é `Admin`).
* **–°–∏—Å—Ç–µ–º–∞ "–û–±—Ä–∞–Ω–µ":** —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è –∑–≤'—è–∑–∫—É Many-to-Many ‚Äî —É –∫–æ–∂–Ω–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ —Å–≤—ñ–π —É–Ω—ñ–∫–∞–ª—å–Ω–∏–π —Å–ø–∏—Å–æ–∫ –∫–Ω–∏–≥.

### üìä –ï–∫—Å–ø–æ—Ä—Ç —Ç–∞ CLI
* **CSV Export:** –≤–∏–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –±–∞–∑–∏ –∫–Ω–∏–≥ —É —Ñ–æ—Ä–º–∞—Ç—ñ CSV –∑ –ø—ñ–¥—Ç—Ä–∏–º–∫–æ—é UTF-8 BOM –¥–ª—è –∫–æ—Ä–µ–∫—Ç–Ω–æ–≥–æ –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –∫–∏—Ä–∏–ª–∏—Ü—ñ –≤ Excel.
* **Role CLI:** –≤–±—É–¥–æ–≤–∞–Ω–∞ –∫–æ–Ω—Å–æ–ª—å–Ω–∞ –∫–æ–º–∞–Ω–¥–∞ –¥–ª—è –º–∏—Ç—Ç—î–≤–æ—ó –∑–º—ñ–Ω–∏ —Ä–æ–ª—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –±–µ–∑ –ø—Ä—è–º–æ–≥–æ –¥–æ—Å—Ç—É–ø—É –¥–æ –ë–î.

---

## üìä –ü—Ä–æ—î–∫—Ç—É–≤–∞–Ω–Ω—è (UML)
–ü–æ–≤–Ω–∞ —Ç–µ—Ö–Ω—ñ—á–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è –∑–Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—ó `/uml`. –°—Ö–µ–º–∏ –ø–æ–±—É–¥–æ–≤–∞–Ω—ñ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é PlantUML:
* `erd.puml` ‚Äî –ª–æ–≥—ñ—á–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö (3–ù–§).
* `class_diagram.puml` ‚Äî –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ –∫–ª–∞—Å—ñ–≤ —Ç–∞ –∑–≤'—è–∑–∫—ñ–≤.

---

## üöÄ –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç

### –í–∞—Ä—ñ–∞–Ω—Ç 1: –ß–µ—Ä–µ–∑ Docker (–†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ)
–ù–∞–π–ø—Ä–æ—Å—Ç—ñ—à–∏–π —Å–ø–æ—Å—ñ–± –ø—ñ–¥–Ω—è—Ç–∏ –¥–æ–¥–∞—Ç–æ–∫ —Ç–∞ –±–∞–∑—É –¥–∞–Ω–∏—Ö –æ–¥–Ω—ñ—î—é –∫–æ–º–∞–Ω–¥–æ—é:
```bash
docker-compose up --build
```
*API –±—É–¥–µ –¥–æ—Å—Ç—É–ø–Ω–µ –∑–∞ –∞–¥—Ä–µ—Å–æ—é: http://localhost:5234*

### –í–∞—Ä—ñ–∞–Ω—Ç 2: –õ–æ–∫–∞–ª—å–Ω–∏–π –∑–∞–ø—É—Å–∫
1. –ù–∞–ª–∞—à—Ç—É–π—Ç–µ —Ä—è–¥–æ–∫ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è —É —Ñ–∞–π–ª—ñ `appsettings.json`.
2. –ó–∞—Å—Ç–æ—Å—É–π—Ç–µ –º—ñ–≥—Ä–∞—Ü—ñ—ó –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –±–∞–∑–∏ –¥–∞–Ω–∏—Ö:
   ```bash
   dotnet ef database update
   ```
3. –ó–∞–ø—É—Å—Ç—ñ—Ç—å –ø—Ä–æ—î–∫—Ç:
   ```bash
   dotnet run
   ```

---

## ‚öôÔ∏è –ö–æ–Ω—Å–æ–ª—å–Ω–µ –∫–µ—Ä—É–≤–∞–Ω–Ω—è —Ä–æ–ª—è–º–∏
–î–ª—è –∑–º—ñ–Ω–∏ —Ä–æ–ª—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, —â–æ–± –∑—Ä–æ–±–∏—Ç–∏ —Å–µ–±–µ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º) –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—É:
```bash
dotnet run setrole <email> <role>
```
*–ù–∞–ø—Ä–∏–∫–ª–∞–¥: `dotnet run setrole test@example.com Admin`*

---

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ—î–∫—Ç—É
* **`/Controllers`** ‚Äî API –µ–Ω–¥–ø–æ—ñ–Ω—Ç–∏ —Ç–∞ –ª–æ–≥—ñ–∫–∞ –æ–±—Ä–æ–±–∫–∏ –∑–∞–ø–∏—Ç—ñ–≤.
* **`/Models`** ‚Äî —Å—É—Ç–Ω–æ—Å—Ç—ñ –ë–î (User, Book, Author, Genre).
* **`/Data`** ‚Äî –∫–æ–Ω—Ç–µ–∫—Å—Ç –ë–î —Ç–∞ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è Fluent API.
* **`/DTOs`** ‚Äî –æ–±'—î–∫—Ç–∏ –ø–µ—Ä–µ–¥–∞—á—ñ –¥–∞–Ω–∏—Ö.
* **`/uml`** ‚Äî –ø—Ä–æ—î–∫—Ç–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è.

---

## üë§ –ê–≤—Ç–æ—Ä
**–ê–Ω–¥—Ä—ñ–π –í–æ–ª–æ—à–∏–Ω**  
–°—Ç—É–¥–µ–Ω—Ç –≥—Ä—É–ø–∏ –Ü–ü–ó-4.01